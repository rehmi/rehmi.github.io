<!doctype html> <!-- Minimal Mistakes Jekyll Theme 4.16.4 by Michael Rose Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes Free for personal and commercial use under the MIT license https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE --> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/katex/katex.min.css"> <link rel=stylesheet  href="/libs/highlight/styles/github.min.css"> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/minimal-mistakes.css"> <link rel=stylesheet  href="/css/adjust.css"> <link rel=icon  href="/assets/favicon.png"> <!--[if IE ]> <style> /* old IE unsupported flexbox fixes */ .greedy-nav .site-title { padding-right: 3em; } .greedy-nav button { position: absolute; top: 0; right: 0; height: 100%; } </style> <![endif]--> <title>Franklin FAQ</title> <body class=layout--single > <div class=masthead > <div class=masthead__inner-wrap > <div class=masthead__menu > <nav id=site-nav  class=greedy-nav > <a class=site-title  href="/">Minimal Mistakes</a> <ul class=visible-links > <li class=masthead__menu-item ><a href="/demos/">Demos</a> <li class=masthead__menu-item ><a href="/franklin/" >Franklin</a> <li class=masthead__menu-item ><a href="/menu1/" >Code blocks</a> <li class=masthead__menu-item ><a href="/menu2/" >More Goodies</a> <li class=masthead__menu-item ><a href="/menu3/">Tags</a> </ul> <button class="greedy-nav__toggle hidden" type=button > <span class=visually-hidden >Toggle menu</span> <div class=navicon ></div> </button> <ul class="hidden-links hidden"></ul> </nav> </div> </div> </div> <div class=initial-content > <div id=main  role=main > <div class="sidebar sticky"> <div itemscope itemtype="https://schema.org/Person"> <div class=author__avatar > <img src="/assets/qhyp_icon.jpg" alt="Rehmi Post" itemprop=image > </div> <div class=author__content > <h3 class=author__name  itemprop=name >Rehmi Post</h3> <p class=author__bio  itemprop=description >Applied Physicist.</p> </div> <div class=author__urls-wrapper > <button class="btn btn--inverse">Follow</button> <ul class="author__urls social-icons"> <!-- <li itemprop=homeLocation  itemscope itemtype="https://schema.org/Place"> <i class="fas fa-fw fa-map-marker-alt" aria-hidden=true ></i> <span itemprop=name >Palmyra</span> --> <li><a href="https://twitter.com/rehmi" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden=true ></i> Twitter</a> <li><a href="https://github.com/rehmi" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden=true ></i> GitHub</a> </ul> </div> </div> </div> <div class=franklin-content > <h1 id=franklin_demos ><a href="#franklin_demos" class=header-anchor >Franklin Demos</a></h1> <span style="text-align:center;width:100%;display:inline-block;font-variant-caps:small-caps"><a href="https://github.com/tlienart/Franklin.jl/tree/master/demos"><strong>Click here to see the source</strong></a></span> <p>This website is meant to be a quick way to show how to do stuff that people ask &#40;or that I thought would be a nice demo&#41;, it will complement the <a href="https://franklinjl.org/">official documentation</a>.</p> <p>It&#39;s not meant to be beautiful, rather just show how to get specific stuff done. If one block answers one of your question, make sure to check <a href="https://github.com/tlienart/Franklin.jl/tree/master/demos/index.md">the source</a> to see how it was done. The ordering is reverse chronological but just use the table of contents to guide you to whatever you might want to explore.</p> <p><strong>Note</strong>: an important philosophy here is that if you can write a Julia function that would produce the HTML you want, then write that function and let Franklin call it.</p> <p><strong>Note 2</strong>: the numbering in georgian script in the table of content is on purpose &#40;though for no particularly good reason other than that it looks nice... üá¨üá™&#41;</p> <div class=franklin-toc ><ol><li><a href="#019_from_dataframe_to_html_table">&#40;019&#41; From <code>Dataframe</code> to HTML table</a><li><a href="#018_collapsible_block">&#40;018&#41; collapsible block</a><li><a href="#017_making_cells_work_in_their_own_path">&#40;017&#41; making cells work in their own path</a><li><a href="#016_using_wglmakie_jsserve">&#40;016&#41; using WGLMakie &#43; JSServe</a><li><a href="#015_using_weave">&#40;015&#41; Using Weave</a><li><a href="#014_using_mathjax">&#40;014&#41; Using MathJax</a><li><a href="#013_inserting_markdown_in_markdown">&#40;013&#41; Inserting Markdown in Markdown</a><li><a href="#012_dates">&#40;012&#41; Dates</a><li><a href="#011_showing_type_information">&#40;011&#41; showing type information</a><li><a href="#010_clipboard_button_for_code_blocks">&#40;010&#41; clipboard button for code blocks</a><li><a href="#009_custom_environment_for_tikzcd">&#40;009&#41; custom environment for TikzCD</a><li><a href="#008_custom_environments_and_commands">&#40;008&#41; &#40;custom&#41; environments and commands</a><ol><li><a href="#customise_with_julia_code">Customise with Julia code</a></ol><li><a href="#007_delayed_hfun">&#40;007&#41; delayed hfun</a><li><a href="#006_code_highlighting">&#40;006&#41; code highlighting</a><li><a href="#005_pagination">&#40;005&#41; pagination</a><li><a href="#004_use_latexifyjl">&#40;004&#41; use Latexify.jl</a><li><a href="#003_styling_of_code_output_blocks">&#40;003&#41; styling of code output blocks</a><li><a href="#002_code_block_scope">&#40;002&#41; code block scope</a><li><a href="#001_how_to_load_data_from_file_and_loop_over_rows">&#40;001&#41; how to load data from file and loop over rows</a><ol><li><a href="#approach_1_with_a_hfun">Approach 1, with a <code>hfun</code></a><li><a href="#approach_2_with_a_page_variable_and_a_for_loop">Approach 2, with a page variable and a for loop</a></ol></ol></div> <h2 id=019_from_dataframe_to_html_table ><a href="#019_from_dataframe_to_html_table" class=header-anchor >&#40;019&#41; From <code>Dataframe</code> to HTML table</a></h2> <p>If you have some data that you would like to manipulate and render nicely in <code>Franklin</code>, you can use the following snippet relying on <a href="https://github.com/JuliaData/DataFrames.jl"><code>DataFrames.jl</code></a> and <a href="https://github.com/ronisbr/PrettyTables.jl"><code>PrettyTables.jl</code></a>.</p> <p>The following <code>Dataframe</code>: </p> <pre><code class="julia hljs">val = rand(<span class=hljs-number >1</span>:<span class=hljs-number >10</span>, <span class=hljs-number >5</span>)
tag = rand(<span class=hljs-string >&#x27;A&#x27;</span>:<span class=hljs-string >&#x27;Z&#x27;</span>, <span class=hljs-number >5</span>)
math = rand([<span class=hljs-string >&quot;\$a + b\$&quot;</span>, <span class=hljs-string >&quot;\$\\frac{1}{2}\$&quot;</span>, <span class=hljs-string >&quot;\$\\sqrt{2\\pi}\$&quot;</span>], <span class=hljs-number >5</span>)
website = rand([<span class=hljs-string >&quot;[Franklin home page](https://franklinjl.org)&quot;</span>, <span class=hljs-string >&quot;[Franklin Github](https://github.com/tlienart/Franklin.jl)&quot;</span>], <span class=hljs-number >5</span>)
DataFrame(; val, tag, math, website)</code></pre> <p>will be rendered as:</p> <table> <thead> <tr class = "header"> <th style = "text-align: center;">val <th style = "text-align: center;">tag <th style = "text-align: center;">math <th style = "text-align: center;">website <tr class = "subheader headerLastRow"> <th style = "text-align: center;">Int64 <th style = "text-align: center;">Char <th style = "text-align: center;">String <th style = "text-align: center;">String <tr> <td style = "text-align: center;">9 <td style = "text-align: center;">N <td style = "text-align: center;"><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{2}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.1901em;vertical-align:-0.345em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.8451em;"><span style="top:-2.655em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> <td style = "text-align: center;"><a href="https://github.com/tlienart/Franklin.jl">Franklin Github</a> <tr> <td style = "text-align: center;">2 <td style = "text-align: center;">D <td style = "text-align: center;"><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mrow><mn>2</mn><mi>œÄ</mi></mrow></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{2\pi}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.04em;vertical-align:-0.1328em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9072em;"><span class=svg-align  style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class=mord  style="padding-left:0.833em;"><span class=mord >2</span><span class="mord mathnormal" style="margin-right:0.03588em;">œÄ</span></span></span><span style="top:-2.8672em;"><span class=pstrut  style="height:3em;"></span><span class=hide-tail  style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z'/></svg></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.1328em;"><span></span></span></span></span></span></span></span></span> <td style = "text-align: center;"><a href="https://github.com/tlienart/Franklin.jl">Franklin Github</a> <tr> <td style = "text-align: center;">9 <td style = "text-align: center;">X <td style = "text-align: center;"><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mrow><mn>2</mn><mi>œÄ</mi></mrow></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{2\pi}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.04em;vertical-align:-0.1328em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9072em;"><span class=svg-align  style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class=mord  style="padding-left:0.833em;"><span class=mord >2</span><span class="mord mathnormal" style="margin-right:0.03588em;">œÄ</span></span></span><span style="top:-2.8672em;"><span class=pstrut  style="height:3em;"></span><span class=hide-tail  style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z'/></svg></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.1328em;"><span></span></span></span></span></span></span></span></span> <td style = "text-align: center;"><a href="https://franklinjl.org">Franklin home page</a> <tr> <td style = "text-align: center;">7 <td style = "text-align: center;">R <td style = "text-align: center;"><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>+</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a + b</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">a</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span> <td style = "text-align: center;"><a href="https://github.com/tlienart/Franklin.jl">Franklin Github</a> <tr> <td style = "text-align: center;">2 <td style = "text-align: center;">G <td style = "text-align: center;"><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>+</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a + b</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">a</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span> <td style = "text-align: center;"><a href="https://franklinjl.org">Franklin home page</a> </table> <p>This done via a <code>hfun_render_table</code> which can be found in <a href="https://github.com/tlienart/Franklin.jl/blob/master/demos/utils.jl"><code>utils.jl</code></a>.</p> <h2 id=018_collapsible_block ><a href="#018_collapsible_block" class=header-anchor >&#40;018&#41; collapsible block</a></h2> <p>How to make a section expand when clicked, so that content is initially hidden? &#40;Based on <a href="https://www.w3schools.com/howto/howto_js_collapsible.asp">this html guide</a>.&#41;</p> <button type=button  class=collapsible > We first define a command, <code>\collaps&#123;title&#125;&#123;content&#125;</code>, allowing both the title and the content to be given as markdown and processed by Franklin </button><div class=collapsiblecontent > </p> <pre><code class="html hljs">\newcommand{\collaps}[2]{
~~~<span class=hljs-tag >&lt;<span class=hljs-name >button</span> <span class=hljs-attr >type</span>=<span class=hljs-string >&quot;button&quot;</span> <span class=hljs-attr >class</span>=<span class=hljs-string >&quot;collapsible&quot;</span>&gt;</span>~~~ #1 ~~~<span class=hljs-tag >&lt;/<span class=hljs-name >button</span>&gt;</span><span class=hljs-tag >&lt;<span class=hljs-name >div</span> <span class=hljs-attr >class</span>=<span class=hljs-string >&quot;collapsiblecontent&quot;</span>&gt;</span>~~~ #2 ~~~<span class=hljs-tag >&lt;/<span class=hljs-name >div</span>&gt;</span>~~~
}</code></pre> <p></div> <button type=button  class=collapsible > Then, we need to add styling for these classes. Here, we add it to <code>_css/extras.css</code>. </button><div class=collapsiblecontent > </p> <pre><code class="css hljs"><span class=hljs-comment >/* Style the button that is used to open and close the collapsible content */</span>
 <span class=hljs-selector-class >.collapsible</span> {
  <span class=hljs-attribute >background-color</span>: <span class=hljs-number >#eee</span>;
  <span class=hljs-attribute >color</span>: <span class=hljs-number >#444</span>;
  <span class=hljs-attribute >cursor</span>: pointer;
  <span class=hljs-attribute >padding</span>: <span class=hljs-number >18px</span>;
  <span class=hljs-attribute >width</span>: <span class=hljs-number >100%</span>;
  <span class=hljs-attribute >border</span>: none;
  <span class=hljs-attribute >text-align</span>: left;
  <span class=hljs-attribute >outline</span>: none;
  <span class=hljs-attribute >font-size</span>: inherit;
}

<span class=hljs-comment >/* Add a background color to the button if it is clicked on (add the .active class with JS), and when you move the mouse over it (hover) */</span>
<span class=hljs-selector-class >.active</span>, <span class=hljs-selector-class >.collapsible</span><span class=hljs-selector-pseudo >:hover</span> {
  <span class=hljs-attribute >background-color</span>: <span class=hljs-number >#ccc</span>;
}

<span class=hljs-comment >/* Style the collapsible content. <span class=hljs-doctag >Note:</span> hidden by default */</span>
<span class=hljs-selector-class >.collapsiblecontent</span> {
  <span class=hljs-attribute >padding</span>: <span class=hljs-number >0</span> <span class=hljs-number >18px</span>;
  <span class=hljs-attribute >display</span>: none;
  <span class=hljs-attribute >overflow</span>: hidden;
  <span class=hljs-attribute >background-color</span>: <span class=hljs-number >#f1f1f1</span>;
}</code></pre> <p></div> <button type=button  class=collapsible > Finally, we need the javascript that can be added either on the page where it is used, or in e.g. the foot <code>_layout/page_foot.html</code> </button><div class=collapsiblecontent > </p> <pre><code class="html hljs"><span class=hljs-tag >&lt;<span class=hljs-name >script</span>&gt;</span><span class=language-javascript >
  <span class=hljs-keyword >var</span> coll = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByClassName</span>(<span class=hljs-string >&quot;collapsible&quot;</span>);
  <span class=hljs-keyword >var</span> i;

  <span class=hljs-keyword >for</span> (i = <span class=hljs-number >0</span>; i &lt; coll.<span class=hljs-property >length</span>; i++) {
    coll[i].<span class="hljs-title function_">addEventListener</span>(<span class=hljs-string >&quot;click&quot;</span>, <span class=hljs-keyword >function</span>(<span class=hljs-params ></span>) {
      <span class="hljs-variable language_">this</span>.<span class=hljs-property >classList</span>.<span class="hljs-title function_">toggle</span>(<span class=hljs-string >&quot;active&quot;</span>);
      <span class=hljs-keyword >var</span> content = <span class="hljs-variable language_">this</span>.<span class=hljs-property >nextElementSibling</span>;
      <span class=hljs-keyword >if</span> (content.<span class=hljs-property >style</span>.<span class=hljs-property >display</span> === <span class=hljs-string >&quot;block&quot;</span>) {
        content.<span class=hljs-property >style</span>.<span class=hljs-property >display</span> = <span class=hljs-string >&quot;none&quot;</span>;
      } <span class=hljs-keyword >else</span> {
        content.<span class=hljs-property >style</span>.<span class=hljs-property >display</span> = <span class=hljs-string >&quot;block&quot;</span>;
      }
    });
  }
</span><span class=hljs-tag >&lt;/<span class=hljs-name >script</span>&gt;</span></code></pre> <p></div> <p>With these definitions, the expandible code sections could be added&#33;</p> <button type=button  class=collapsible > An additional example: <strong>Press here to expand</strong> </button><div class=collapsiblecontent > In the content part you can have latex: <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">x^2</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8141em;"></span><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>,</p> <p>lists</p> <ul> <li><p>Item 1</p> <li><p>Item 2</p> </ul> <p>And all other stuff processed by Franklin&#33; </div> <h2 id=017_making_cells_work_in_their_own_path ><a href="#017_making_cells_work_in_their_own_path" class=header-anchor >&#40;017&#41; making cells work in their own path</a></h2> <p>Currently if you&#39;re saving a figure in a code block, you need to specify where to place that figure, if you don&#39;t it will go in the current directory which is the main site directory, typically you don&#39;t want that, so one trick is to use the <code>@OUTPUT</code> macro like so:</p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> PyPlot
figure(figsize=(<span class=hljs-number >8</span>,<span class=hljs-number >6</span>))
plot(rand(<span class=hljs-number >5</span>), rand(<span class=hljs-number >5</span>))
savefig(joinpath(<span class=hljs-meta >@OUTPUT</span>, <span class=hljs-string >&quot;ex_outpath_1.svg&quot;</span>))</code></pre> <p>and that directory is among the ones that are automatically checked when you use the <code>\fig</code> command &#40;e.g. <code>\fig&#123;ex_outpath_1.svg&#125;</code>&#41;:</p> <img src="/assets/demos/code/output/ex_outpath_1.svg" alt=""> <p>if you&#39;re writing tutorials and have lots of such figures and you don&#39;t want your readers to see these weird <code>@OUTPUT</code> or you can&#39;t be bothered to add <code>#hide</code> everywhere, you can set a variable <code>auto_code_path</code> to <code>true</code> &#40;either locally on a page or globally in your config&#41;, what this will do is that each time a cell is executed, Julia will first <code>cd</code> to the output path. So the above bit of code now reads:</p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> PyPlot
figure(figsize=(<span class=hljs-number >8</span>,<span class=hljs-number >6</span>))
plot(rand(<span class=hljs-number >5</span>), rand(<span class=hljs-number >5</span>), color=<span class=hljs-string >&quot;red&quot;</span>)
savefig(<span class=hljs-string >&quot;ex_outpath_2.svg&quot;</span>)</code></pre> <p>and like before just use <code>\fig&#123;ex_outpath_2.svg&#125;</code>:</p> <img src="/assets/demos/code/output/ex_outpath_2.svg" alt=""> <p><strong>Note</strong>: since this was meant to be a non-breaking change, <code>auto_code_path</code> is set to <code>false</code> by default, you must set it yourself to <code>true</code> in your <code>config.md</code> if you want this to apply everywhere.</p> <h2 id=016_using_wglmakie_jsserve ><a href="#016_using_wglmakie_jsserve" class=header-anchor >&#40;016&#41; using WGLMakie &#43; JSServe</a></h2> <p><a href="/wgl/">This page</a> shows an example using WGLMakie &#43; JSServe. It assumes you&#39;re familiar with these two libraries and that you have the latest version of each.</p> <p>Note that it requires WebGL to work which might not be enabled on all browsers.</p> <h2 id=015_using_weave ><a href="#015_using_weave" class=header-anchor >&#40;015&#41; Using Weave</a></h2> <p><a href="/weave/">Here&#39;s a page</a> where the content is generated from a <a href="https://github.com/JunoLab/Weave.jl">Weave.jl</a>.</p> <h2 id=014_using_mathjax ><a href="#014_using_mathjax" class=header-anchor >&#40;014&#41; Using MathJax</a></h2> <p>If you prefer MathJax over KaTeX for maths rendering, you can use that. For now this is not fully supported and so taking this path may lead to issues, please report them and help fixing those is welcome.</p> <p>Head to <a href="/mathjax/">this page</a> for a demo and setup instructions.</p> <h2 id=013_inserting_markdown_in_markdown ><a href="#013_inserting_markdown_in_markdown" class=header-anchor >&#40;013&#41; Inserting Markdown in Markdown</a></h2> <p>Let&#39;s say you have a file <code>content.md</code> and you would like to include it in another page as if it had been written there in the first place. This is pretty easy to do. You could for instance use the following function:</p> <pre><code class="julia hljs"><span class=hljs-keyword >function</span> hfun_insertmd(params)
  rpath = params[<span class=hljs-number >1</span>]
  fullpath = joinpath(Franklin.path(:folder), rpath)
  isfile(fullpath) || <span class=hljs-keyword >return</span> <span class=hljs-string >&quot;&quot;</span>
  <span class=hljs-keyword >return</span> read(fullpath, <span class=hljs-built_in >String</span>)
<span class=hljs-keyword >end</span></code></pre> <p>One thing to note is that all <code>.md</code> files in your folder will be considered as potential pages to turn into HTML, so if a <code>.md</code> file is meant to exclusively be used &quot;inserted&quot;, you should remove it from Franklin&#39;s reach by adding it to the <code>ignore</code> global variable putting something like this in your <code>config.md</code>:</p> <pre><code class="julia hljs"><span class=hljs-meta >@def</span> ignore = [<span class=hljs-string >&quot;path/to/content.md&quot;</span>]</code></pre>
<p>Here&#39;s an example with the insertion of the content of a file <code>foo/content.md</code>; the result of <code>&#123;&#123;insertmd foo/content.md&#125;&#125;</code> is:</p>

<p>You can look at <a href="https://github.com/tlienart/Franklin.jl/blob/master/demos/utils.jl"><code>utils.jl</code></a> for the definition of the <code>hfun</code> &#40;same as above&#41;, at <a href="https://github.com/tlienart/Franklin.jl/blob/master/demos/index.md"><code>index.md</code></a> to see how it&#39;s called and at <a href="https://github.com/tlienart/Franklin.jl/blob/master/demos/foo/content.md"><code>foo/content.md</code></a> for the content file. Finally you can also check out the <a href="https://github.com/tlienart/Franklin.jl/blob/master/demos/config.md"><code>config.md</code></a> file to see how the content page is ignored.</p>
<h2 id=012_dates ><a href="#012_dates" class=header-anchor >&#40;012&#41; Dates</a></h2>
<p>The date of last modification on the page is kept in the <code>fd_mtime_raw</code> internal page variable, there is also a pre-formatted <code>fd_mtime</code>.</p>
<p>Last modified: 2023-12-22 or December 22, 2023</p>
<h2 id=011_showing_type_information ><a href="#011_showing_type_information" class=header-anchor >&#40;011&#41; showing type information</a></h2>
<p>This is a short demo following a discussion on Slack, it shows three things:</p>
<ul>
<li><p>how to mark a block as &quot;<em>run here directly and show the output</em>&quot; without having to explicitly add a path and use a <code>\show</code></p>

<li><p>that types are now shown properly as they would be in the REPL.</p>

<li><p>that continuation works from cell to cell &#40;i.e. you can assume that a cell further below another cell has access to what was defined in the first&#41;</p>

</ul>
<pre><code class="julia hljs">s = <span class=hljs-string >&quot;hello&quot;</span>
<span class=hljs-keyword >struct</span> T; v::<span class=hljs-built_in >Int</span>; <span class=hljs-keyword >end</span>
[
    <span class=hljs-built_in >Dict</span>(:a =&gt; T(<span class=hljs-number >1</span>)),
    <span class=hljs-built_in >Dict</span>(:b =&gt; T(<span class=hljs-number >2</span>)),
]</code></pre><pre><code class="plaintext hljs">2-element Vector{Dict{Symbol, T}}:
 Dict(:a =&gt; T(1))
 Dict(:b =&gt; T(2))</code></pre>
<p>Here&#39;s another cell</p>
<pre><code class="julia hljs">T(<span class=hljs-number >1</span>)
print(s)</code></pre><pre><code class="plaintext hljs">hello</code></pre>
<p>Suppressed output:</p>
<pre><code class="julia hljs">X = randn(<span class=hljs-number >2</span>, <span class=hljs-number >3</span>);</code></pre>
<h2 id=010_clipboard_button_for_code_blocks ><a href="#010_clipboard_button_for_code_blocks" class=header-anchor >&#40;010&#41; clipboard button for code blocks</a></h2>
<p>It&#39;s fairly easy to add a &quot;copy&quot; button to your code blocks using  a tool like <a href="https://clipboardjs.com"><code>clipboard.js</code></a>. In fact on this demo page, as you can see, there is a copy button on all code blocks. The steps to  reproduce  this are:</p>
<ul>
<li><p>copy the <a href="https://github.com/tlienart/Franklin.jl/blob/master/demos/_libs/clipboard.min.js"><code>clipboard.min.js</code></a> to <code>/libs/clipboard.min.js</code> &#40;<em>note that this is an old version of the library, <code>1.4</code> or something, if you take  the most recent version, you will have to adapt the script</em>&#41;</p>

<li><p>load that in <code>_layout/head.html</code> adding something like</p>

</ul>
<pre><code class="html hljs"><span class=hljs-tag >&lt;<span class=hljs-name >script</span> <span class=hljs-attr >src</span>=<span class=hljs-string >&quot;/libs/clipboard.min.js&quot;</span>&gt;</span><span class=hljs-tag >&lt;/<span class=hljs-name >script</span>&gt;</span></code></pre>
<ul>
<li><p>add Javascript in the <code>_layout/foot.html</code>,  something <a href="https://github.com/tlienart/Franklin.jl/blob/master/demos/_layout/foot_clipboard.html">like this</a></p>

<li><p>adjust the CSS, for instance <a href="https://github.com/tlienart/Franklin.jl/blob/0276b1afb054017ff7e81bc7d083021a867a4b92/demos/_css/extras.css#L37-L61">something like this</a></p>

</ul>
<p>and that&#39;s it üèÅ.</p>
<h2 id=009_custom_environment_for_tikzcd ><a href="#009_custom_environment_for_tikzcd" class=header-anchor >&#40;009&#41; custom environment for TikzCD</a></h2>

<p>Following up on <a href="#008_custom_environments_and_commands">#008</a>, here&#39;s a custom environment for Tikz diagrams using the <a href="https://github.com/JuliaTeX/TikzPictures.jl">TikzPictures.jl</a> package.</p>
<p>Let&#39;s first see what you get for your effort:</p>
<div class=small-imgc ><img src="/assets/demos/index/tcd1.svg" alt=""></div>
<p>Cool&#33; Modulo a div class that shrinks the image a bit, the code that was used here is very nearly a copy-paste from an example in the <a href="https://ctan.kako-dev.de/graphics/pgf/contrib/tikz-cd/tikz-cd-doc.pdf">tikz-cd docs</a>, the only difference is one additional bracket with the file name &#40;here <code>tcd1</code>&#41;:</p>
<pre><code class="plaintext hljs">\begin{tikzcd}{tcd1}
A \arrow[r, &quot;\phi&quot;] \arrow[d, red]
  &amp; B \arrow[d, &quot;\psi&quot; red] \\
  C \arrow[r, red, &quot;\eta&quot; blue]
  &amp; D
\end{tikzcd}</code></pre>
<p>The corresponding <code>env_tikzcd</code> function is in the <code>utils.jl</code> file and is quite simple.</p>

<h2 id=008_custom_environments_and_commands ><a href="#008_custom_environments_and_commands" class=header-anchor >&#40;008&#41; &#40;custom&#41; environments and commands</a></h2>
<p>You can define new commands and new environments using essentially the same syntax as in LaTeX:</p>
<pre><code class="plaintext hljs">\newcommand{\command}[nargs]{def}
\newenvironment{environment}[nargs]{pre}{post}</code></pre>
<p>The first one allows to define a command that you can call as <code>\command&#123;...&#125;</code> and the second one an environment that you can call as</p>
<pre><code class="plaintext hljs">\begin{environment}{...}...\end{environment}</code></pre>
<p>In both cases you can have a number of arguments &#40;or zero&#41; and the output is <em>reprocessed by Franklin</em> &#40;so treated as Franklin-markdown&#41;. Here are a few simple examples:</p>
<pre><code class="plaintext hljs">\newcommand{\hello}{**Hello!**}
Result: \hello.</code></pre>
<p>Result: <strong>Hello&#33;</strong>.</p>
<pre><code class="plaintext hljs">\newcommand{\html}[1]{~~~#1~~~}
\newcommand{\red}[1]{\html{&lt;span style=&quot;color:red&quot;&gt;#1&lt;/span&gt;}}
Result: \red{hello!}.</code></pre>
<p>Result: <span style="color:red"> hello!</span>.</p>
<pre><code class="plaintext hljs">\newenvironment{center}{
  \html{&lt;div style=&quot;text-align:center&quot;&gt;}
}{
  \html{&lt;/div&gt;}
}
Result: \begin{center}This bit of text is in a centered div.\end{center}</code></pre>
<p>Result: </p>
 <div style="text-align:center">This bit of text is centered. </div>
<pre><code class="plaintext hljs">\newenvironment{figure}[1]{
  \html{&lt;figure&gt;}
}{
  \html{&lt;figcaption&gt;#1&lt;/figcaption&gt;&lt;/figure&gt;}
}
Result: \begin{figure}{A koala eating a leaf.}![](/assets/koala.jpg)\end{figure}</code></pre>
<p>Result: </p>
 <figure><img src="/assets/koala.jpg" alt="" /> <figcaption> A koala eating a leaf.</figcaption></figure>
<h3 id=customise_with_julia_code ><a href="#customise_with_julia_code" class=header-anchor >Customise with Julia code</a></h3>
<p>Much like <code>hfun_*</code>, you can have commands and environments be effectively defined via Julia code. The main difference is that the output will be treated as Franklin-markdown and so will be <em>reprocessed by Franklin</em> &#40;where for a <code>hfun</code>, the output is plugged in directly as HTML&#41;.</p>
<p>In both cases, a single option bracket is expected, no more no less. It can be empty but it has to be there. See also <a href="https://franklinjl.org/syntax/utils/#latex_functions_lx_">the docs</a> for more information.</p>
<p>Here are two simple examples &#40;see in <code>utils.jl</code> too&#41;:</p>
<pre><code class="julia hljs"><span class=hljs-keyword >function</span> lx_capa(com, _)
  <span class=hljs-comment ># this first line extracts the content of the brace</span>
  content = Franklin.content(com.braces[<span class=hljs-number >1</span>])
  output = replace(content, <span class=hljs-string >&quot;a&quot;</span> =&gt; <span class=hljs-string >&quot;A&quot;</span>)
  <span class=hljs-keyword >return</span> <span class=hljs-string >&quot;**<span class=hljs-variable >$output</span>**&quot;</span>
<span class=hljs-keyword >end</span></code></pre>
<pre><code class="plaintext hljs">Result: \capa{Baba Yaga}.</code></pre>
<p>Result: <strong>BAbA YAgA</strong>.</p>
<pre><code class="julia hljs"><span class=hljs-keyword >function</span> env_cap(com, _)
  option = Franklin.content(com.braces[<span class=hljs-number >1</span>])
  content = Franklin.content(com)
  output = replace(content, option =&gt; uppercase(option))
  <span class=hljs-keyword >return</span> <span class=hljs-string >&quot;~~~&lt;b&gt;~~~<span class=hljs-variable >$output</span>~~~&lt;/b&gt;~~~&quot;</span>
<span class=hljs-keyword >end</span></code></pre>
<pre><code class="plaintext hljs">Result: \begin{cap}{ba}Baba Yaga with a baseball bat\end{cap}</code></pre>
<p>Result: </p>
<b>BaBA Yaga with a BAseBAll BAt</b>
<p>Of course these are toy examples and you could have arrived to the same effect some other way. With a bit of practice, you might develop a preference towards using one out of the three options: <code>hfun_*</code>, <code>lx_*</code> or <code>env_*</code> depending on your context.</p>
<h2 id=007_delayed_hfun ><a href="#007_delayed_hfun" class=header-anchor >&#40;007&#41; delayed hfun</a></h2>
<p>When you call <code>serve&#40;&#41;</code>, Franklin first does a full pass which builds all your pages and then waits for changes to happen in a given page before updating that page. If you have a page <code>A</code> and a page <code>B</code> and that the page <code>A</code> calls a function which would need something that will only be defined once <code>B</code> is built, you have two cases:</p>
<ol>
<li><p>A common one is to have the function used by <code>A</code> require a <em>local</em> page variable defined on <code>B</code>; in that case just use <code>pagevar&#40;...&#41;</code>. When called, it will itself build <code>B</code> so that it can access the page variable defined on <code>B</code>. This is usually all you need.</p>

<li><p>A less common one is to have the function used by <code>A</code> require a <em>global</em> page variable such as, for instance, the list of all tags, which is only complete <em>once all pages have been built</em>. In that case the function to be used by <code>A</code> should be marked with <code>@delay hfun_...&#40;...&#41;</code> so that Franklin knows it has to wait for the full pass to be completed before re-building <code>A</code> now being sure that it will have access to the proper scope.</p>

</ol>
<p>The page <a href="/foo/">foo</a> has a tag <code>foo</code> and a page variable <code>var</code>; let&#39;s show both use cases; see <code>utils.jl</code> to see the definition of the relevant functions.</p>
<p><strong>Case 1</strong> &#40;local page variable access, <code>var &#61; 5</code> on page foo&#41;: <p style="color:red;">var read from foo is nothing</p></p>
<p><strong>Case 2</strong> &#40;wait for full build, there&#39;s a tag <code>index</code> here and a tag <code>foo</code> on page foo&#41;: <p style="color:red;">tags: { image code index syntax }</p></p>
<h2 id=006_code_highlighting ><a href="#006_code_highlighting" class=header-anchor >&#40;006&#41; code highlighting</a></h2>
<p>Inserting highlighted code is very easy in Franklin; just use triple backquotes and the name of the language:</p>
<pre><code class="julia hljs"><span class=hljs-keyword >struct</span> Point{T}
  x::T
  y::T
<span class=hljs-keyword >end</span></code></pre>
<p>The highlighting is done via highlight.js, it&#39;s important to understand there are two modes:</p>
<ul>
<li><p>using the <code>_libs/highlight/highlight.pack.js</code>, this happens when serving locally <strong>and</strong> when publishing a website <strong>without</strong> pre-rendering,</p>

<li><p>using the full <code>highlight.js</code> package, this happens when pre-rendering and supports all languages.</p>

</ul>
<p>The first one only has support for selected languages &#40;by default: <code>css</code>, <code>C/AL</code>, <code>C&#43;&#43;</code>, <code>yaml</code>, <code>bash</code>, <code>ini</code>, <code>TOML</code>, <code>markdown</code>, <code>html</code>, <code>xml</code>, <code>r</code>, <code>julia</code>, <code>julia-repl</code>, <code>plaintext</code>, <code>python</code> with the minified <code>github</code> theme&#41;, you can change this by going to the <a href="https://highlightjs.org/download/">highlightjs</a> and making your selection.</p>
<p>The recommendation is to:</p>
<ul>
<li><p>check whether the language of your choosing is in the default list above &#40;so that when you serve locally things look nice&#41;, if not, go to the highlight.js website, get the files, and replace what&#39;s in <code>_libs/highlight/</code>,</p>

<li><p>use pre-rendering if you can upon deployment.</p>

</ul>
<p>Here are some more examples with languages that are in the default list:</p>
<pre><code class="r hljs"><span class=hljs-comment ># some R</span>
a <span class=hljs-operator >&lt;-</span> 10
<span class=hljs-keyword >while</span> <span class=hljs-punctuation >(</span>a <span class=hljs-operator >&gt;</span> <span class=hljs-number >4</span><span class=hljs-punctuation >)</span> <span class=hljs-punctuation >{</span>
  cat<span class=hljs-punctuation >(</span>a<span class=hljs-punctuation >,</span> <span class=hljs-string >&quot;...&quot;</span><span class=hljs-punctuation >,</span> sep <span class=hljs-operator >=</span> <span class=hljs-string >&quot;&quot;</span><span class=hljs-punctuation >)</span>
  a <span class=hljs-operator >&lt;-</span> a <span class=hljs-operator >-</span> <span class=hljs-number >1</span>
<span class=hljs-punctuation >}</span></code></pre>
<pre><code class="python hljs"><span class=hljs-comment ># some Python</span>
<span class=hljs-keyword >def</span> <span class="hljs-title function_">foo</span>():
  <span class=hljs-built_in >print</span>(<span class=hljs-string >&quot;Hello world!&quot;</span>)
  <span class=hljs-keyword >return</span></code></pre>
<pre><code class="cpp hljs"><span class=hljs-comment >// some c++</span>
<span class=hljs-meta >#<span class=hljs-keyword >include</span> <span class=hljs-string >&lt;iostream&gt;</span></span>

<span class=hljs-function ><span class=hljs-type >int</span> <span class=hljs-title >main</span><span class=hljs-params >()</span> </span>{
  std::cout &lt;&lt; <span class=hljs-string >&quot;Hello World!&quot;</span>;
  <span class=hljs-keyword >return</span> <span class=hljs-number >0</span>;
}</code></pre>
<pre><code class="css hljs"><span class=hljs-comment >/* some CSS */</span>
<span class=hljs-selector-tag >p</span> {
  <span class=hljs-attribute >border-style</span>: solid;
  <span class=hljs-attribute >border-right-color</span>: <span class=hljs-number >#ff0000</span>;
}</code></pre>
<h2 id=005_pagination ><a href="#005_pagination" class=header-anchor >&#40;005&#41; pagination</a></h2>
<p>Pagination works with <code>&#123;&#123;paginate list num&#125;&#125;</code> where <code>list</code> is a page variable with elements that you want to paginate &#40;either a list or tuple&#41;, and <code>num</code> is the number of elements you want per page. There are many ways you can use this, one possible way is to wrap it in a command if you want to insert this in an actual list which is what is demoed here:</p>
<p><a id=pgex  class=anchor ></a> <ul><li>item 5<li>item 6<li>item 7<li>item 8</ul></p>
<p>Now observe that</p>
<ul>
<li><p><a href="/1/#pgex">page 1</a> has items 1-4</p>

<li><p><a href="/2/#pgex">page 2</a> has items 5-8</p>

<li><p><a href="/3/#pgex">page 3</a> has items 9-10</p>

</ul>
<h2 id=004_use_latexifyjl ><a href="#004_use_latexifyjl" class=header-anchor >&#40;004&#41; use Latexify.jl</a></h2>
<p>Latexify produces a LaTeX string which should basically be passed to KaTeX. To do that you need to recuperate the output, extract the string and pass it into a maths block.</p>
<p>Here there&#39;s a bug with <code>\begin&#123;equation&#125;</code> in Franklin &#40;issue <a href="https://github.com/tlienart/Franklin.jl/issues/584">#584</a>&#41; which is why I&#39;m replacing those with <code>&#36;&#36;</code> but it should be fixed in the near future so that you wouldn&#39;t have to use these two &quot;replace&quot; lines:</p>
<pre><code class="julia hljs"><span class=hljs-keyword >using</span> Latexify
empty_ary = <span class=hljs-built_in >Array</span>{<span class=hljs-built_in >Float32</span>, <span class=hljs-number >2</span>}(<span class=hljs-literal >undef</span>, <span class=hljs-number >2</span>, <span class=hljs-number >2</span>)
ls = latexify(empty_ary) <span class=hljs-comment ># this is an L string</span></code></pre>
<span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><mo fence=true >[</mo><mtable rowspacing=0.16em  columnalign="center center" columnspacing=1em ><mtr><mtd><mstyle scriptlevel=0  displaystyle=false ><mrow><mn>5.468043</mn><mi>e</mi><mn>31</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=false ><mrow><mn>2.2761211</mn><mi>e</mi><mn>33</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=false ><mrow><mn>4.5907</mn><mi>e</mi><mo>‚àí</mo><mn>41</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=false ><mrow><mn>4.5907</mn><mi>e</mi><mo>‚àí</mo><mn>41</mn></mrow></mstyle></mtd></mtr></mtable><mo fence=true >]</mo></mrow><annotation encoding="application/x-tex">
\left[
\begin{array}{cc}
5.468043e31 &amp; 2.2761211e33 \\
4.5907e-41 &amp; 4.5907e-41 \\
\end{array}
\right]
</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:2.4em;vertical-align:-0.95em;"></span><span class=minner ><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class=mord ><span class=mtable ><span class=arraycolsep  style="width:0.5em;"></span><span class=col-align-c ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.45em;"><span style="top:-3.61em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord >5.468043</span><span class="mord mathnormal">e</span><span class=mord >31</span></span></span><span style="top:-2.41em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord >4.5907</span><span class="mord mathnormal">e</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >‚àí</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mord >41</span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.95em;"><span></span></span></span></span></span><span class=arraycolsep  style="width:0.5em;"></span><span class=arraycolsep  style="width:0.5em;"></span><span class=col-align-c ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.45em;"><span style="top:-3.61em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord >2.2761211</span><span class="mord mathnormal">e</span><span class=mord >33</span></span></span><span style="top:-2.41em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord >4.5907</span><span class="mord mathnormal">e</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >‚àí</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mord >41</span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.95em;"><span></span></span></span></span></span><span class=arraycolsep  style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span>
<h2 id=003_styling_of_code_output_blocks ><a href="#003_styling_of_code_output_blocks" class=header-anchor >&#40;003&#41; styling of code output blocks</a></h2>
<p>At the moment &#40;August 2020&#41; no particular class is added on an output &#40;see <a href="https://github.com/tlienart/Franklin.jl/issues/531">#531</a>&#41;; you can still do something similar by adding a <code>@@code-output</code> &#40;or whatever appropriate name&#41; around the command that extracts the output and specify this in your css &#40;see <code>extras.css</code>&#41;:</p>
<pre><code class="julia hljs">x = <span class=hljs-number >7</span></code></pre>
<div class=code-output ><pre><code class="plaintext hljs">7</code></pre></div>
<p>If you find yourself writing that a lot, you should probably define a command like</p>
<pre><code class="plaintext hljs">\newcommand{\prettyshow}[1]{@@code-output \show{#1} @@}</code></pre>
<p>and put it in your <code>config.md</code> file so that it&#39;s globally available.</p>
<div class=code-output ><pre><code class="plaintext hljs">7</code></pre></div>
<h2 id=002_code_block_scope ><a href="#002_code_block_scope" class=header-anchor >&#40;002&#41; code block scope</a></h2>
<p>On a single page all code blocks share their environment so</p>
<pre><code class="julia hljs">x = <span class=hljs-number >5</span></code></pre>
<p>then</p>
<pre><code class="julia hljs">y = x+<span class=hljs-number >2</span></code></pre>
<pre><code class="plaintext hljs">7</code></pre>
<h2 id=001_how_to_load_data_from_file_and_loop_over_rows ><a href="#001_how_to_load_data_from_file_and_loop_over_rows" class=header-anchor >&#40;001&#41; how to load data from file and loop over rows</a></h2>
<p>This was asked on Slack with the hope it could mimick the <a href="https://jekyllrb.com/docs/datafiles/">Data Files</a> functionality of Jekyll where you would have a file like</p>
<pre><code class="julia hljs">name,github
Eric Mill,konklone
Parker Moore,parkr
Liu Fengyun,liufengyun</code></pre>
<p>and you&#39;d want to loop over that and do something with it.</p>
<p><strong>Relevant pieces</strong>:</p>
<ul>
<li><p>see <code>_assets/members.csv</code> &#40;content is the code block above&#41;</p>

</ul>
<h3 id=approach_1_with_a_hfun ><a href="#approach_1_with_a_hfun" class=header-anchor >Approach 1, with a <code>hfun</code></a></h3>
<ul>
<li><p>see <code>utils.jl</code> for the definition of <code>hfun_members_table</code>; calling <code>&#123;&#123;members_table _assets/members.csv&#125;&#125;</code> gives</p>

</ul>
<table><tr><th>Name<th>GitHub alias<tr><td>Eric Mill<td><a href="https://github.com/konklone">konklone</a><tr><td>Parker Moore<td><a href="https://github.com/parkr">parkr</a><tr><td>Liu Fengyun<td><a href="https://github.com/liufengyun">liufengyun</a></table>
<h3 id=approach_2_with_a_page_variable_and_a_for_loop ><a href="#approach_2_with_a_page_variable_and_a_for_loop" class=header-anchor >Approach 2, with a page variable and a for loop</a></h3>
<ul>
<li><p>see <code>config.md</code> for the definition of the <code>members_from_csv</code><em>global</em> page variable.</p>

</ul>
<p>Writing the following</p>
<pre><code class="html hljs">~~~
<span class=hljs-tag >&lt;<span class=hljs-name >ul</span>&gt;</span>
{{for (name, alias) in members_from_csv}}
  <span class=hljs-tag >&lt;<span class=hljs-name >li</span>&gt;</span>
    <span class=hljs-tag >&lt;<span class=hljs-name >a</span> <span class=hljs-attr >href</span>=<span class=hljs-string >&quot;https://github.com/{{alias}}&quot;</span>&gt;</span>{{name}}<span class=hljs-tag >&lt;/<span class=hljs-name >a</span>&gt;</span>
  <span class=hljs-tag >&lt;/<span class=hljs-name >li</span>&gt;</span>
{{end}}
<span class=hljs-tag >&lt;/<span class=hljs-name >ul</span>&gt;</span>
~~~</code></pre>
<p>gives:</p>

<ul>

  <li>
    <a href="https://github.com/konklone">Eric Mill</a>
  

  <li>
    <a href="https://github.com/parkr">Parker Moore</a>
  

  <li>
    <a href="https://github.com/liufengyun">Liu Fengyun</a>
  

</ul>

<p><strong>Notes</strong>:</p>
<ul>
<li><p>we use a <em>global</em> page variable so that we don&#39;t reload the CSV file every single time something changes on the caller page.</p>

</ul>
<div class=page-foot >
    <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> Rehmi Post. Last modified: December 22, 2023.
    Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>.
</div>
</div>

      </div> 
    </div>   

    <div class=page__footer >
      <footer>
        
        
        <div class=page__footer-follow >
          <ul class=social-icons >
            <li><strong>Follow:</strong>
            <li><a href="https://twitter.com/rehmi" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden=true ></i> Twitter</a>
            <li><a href="https://github.com/rehmi" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden=true ></i> GitHub</a>
          </ul>
        </div>
        <div class=page__footer-copyright >&copy; Rehmi Post. Powered by <a href="https://github.com/tlienart/Franklin.jl">Franklin</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel=nofollow >Minimal Mistakes</a>.</div>
      </footer>
    </div>

    <script src="/libs/minimal-mistakes/main.min.js"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.8.2/js/all.js" integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" crossorigin=anonymous ></script>

    
        



    
    
        <script src="/libs/highlight/highlight.min.js"></script>
<script>hljs.highlightAll();hljs.configure({tabReplace: '    '});</script>